<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/css/sign_up_styles.css}">
    <link rel="preconnect" th:href="@{https://fonts.googleapis.com}">
    <link rel="preconnect" th:href="@{https://fonts.gstatic.com}" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,400;0,500;0,600;1,400;1,500;1,600&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{https://unicons.iconscout.com/release/v4.0.0/css/line.css}">
    <title>QRATE</title>
</head>
<body>
<div class="container">

<!--    <form class="form" id="login">-->
<!--        <h1 class="form__title">Login</h1>-->

<!--        <div class="form__message form__message&#45;&#45;error"></div>-->

<!--        <div class="form__input-group">-->
<!--            <input type="text" class="form__input" id="signupUsername" autofocus required placeholder="Username or email">-->
<!--            <div class="form__input-error-message"></div>-->
<!--        </div>-->

<!--        <div class="form__input-group">-->
<!--            <input type="password" class="form__input" autofocus required placeholder="Password">-->
<!--            <div class="form__input-error-message"></div>-->
<!--        </div>-->

<!--        <button class="form__button" type="submit">Continue</button>-->

<!--        <p class="form__text">-->
<!--            <a href="#" class="form__link">Forgot your password?</a>-->
<!--        </p>-->

<!--        <p class="form__text">-->
<!--            <a class="form__link" id="linkCreateAccount">Don't have an account? Create account</a>-->
<!--        </p>-->

<!--    </form>-->
<!--    <div th:with="error=${session.ms1}">-->
<!--        <div th:if="${error} != null">-->
<!--            <div class="alert alert-success" style="background:none; text-align: center; color: red" role="alert">-->
<!--                <div th:text = "${error}"></div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

    <div th:with="error=${session.ms2}">
        <div th:if="${error} != null">
            <div class="alert alert-success" style="background:none; text-align: center; color: red" role="alert">
                <div th:text = "${error}"></div>
            </div>
        </div>
    </div>


    <form class="form" id="createAccount" method="post" th:object="${user}" role="form" th:action="@{/register/save}">
        <h1 class="form__title">Create Account</h1>

        <div th:if="${param.success}">
            <div>
                Welcome to QRATE! Thank you for registering. You can now login <a th:href="@{/login}">here</a>
            </div>

        </div>

        <div class="form__message form__message--error"></div>

        <div class="form__input-group">
            <input type="text" class="form__input" id="signupUsername" autofocus required placeholder="Input a unique Username!" th:field="*{name}">
            <p th:if="${#fields.hasErrors('name')}" class="error-msg" th:errors="*{name}"></p>
            <div class="form__input-error-message"></div>
        </div>

        <div class="form__input-group">
            <input type="text" class="form__input" autofocus required placeholder="Email Address" th:field="*{email}">
            <p th:if="${#fields.hasErrors('email')}" class="error-msg" th:errors="*{email}"></p>
            <div class="form__input-error-message"></div>
        </div>

        <div class="form__input-group">
            <input type="password" class="form__input" autofocus required placeholder="Password" th:field="*{password}">
            <p th:if="${#fields.hasErrors('password')}" class="error-msg" th:errors="*{password}"></p>
            <div class="form__input-error-message"></div>
        </div>

        <div class="form__input-group">
            <input type="password" class="form__input" autofocus required placeholder="Confirm Password" th:field="*{confirmPassword}">
            <p th:if="${#fields.hasErrors('confirmPassword')}" class="error-msg" th:errors="*{confirmPassword}"></p>
            <div class="form__input-error-message"></div>
        </div>

        <div class="form__input-group">
            <input type="text" class="form__input" autofocus required placeholder="What do you do?" th:field="*{occupation}">
            <p th:if="${#fields.hasErrors('occupation')}" class="error-msg" th:errors="*{occupation}"></p>
            <div class="form__input-error-message"></div>
        </div>

        <div class="form__input-group">
            <input type="date" class="form__input" autofocus required placeholder="Date of Birth" th:field="*{dob}">
            <div class="form__input-error-message"></div>
        </div>

        <button class="form__button" type="submit" >Continue</button>

        <p class="form__text">
            <a th:href="@{/login}" class="form__link" id="linkLogin">Already have an Account? Sign In</a>
        </p>

    </form>
</div>


<script th:src="@{/js/signup-login-script.js}"></script>
</body>
</html>